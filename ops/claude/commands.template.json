{
  "commands": [
    {
      "name": "/oos-start",
      "description": "Run OOS preflight, timers check, and update per-project slash commands.",
      "content": "You are my project bootstrapper. Do the following in order, showing PASS/FAIL:\n\n1) Repo sanity\n   - Verify `ops/` exists with: docs/, scripts/, systemd/, schema.sql, stack.yaml, .env.template\n   - If `.env` is missing, copy `ops/.env.template` â†’ `ops/.env` (leave blanks unchanged)\n\n2) Preflight (idempotent)\n   - Run: make -C ops bootstrap\n   - Run: make -C ops preflight\n   - If datasette/sqlite-web missing, propose the exact `apt`/`pip` commands (don't run with sudo)\n\n3) Timers\n   - Check if systemd timers are installed & active:\n     - export-to-sheets.timer\n     - writeback-from-sheets.timer\n     - backup-sqlite.timer\n   - If not installed, output the exact three commands I must run ON THE VM (with sudo) to enable them:\n     a) `sudo cp ops/systemd/* /etc/systemd/system`\n     b) `sudo systemctl daemon-reload`\n     c) `sudo systemctl enable --now export-to-sheets.timer writeback-from-sheets.timer backup-sqlite.timer`\n\n4) Update slash commands for this project (project-aware)\n   - Run: make -C ops update-claude-commands\n   - If `$CLAUDE_COMMANDS_FILE` is unset, create `./.claude/commands.json` and write to that; tell me the path.\n   - IMPORTANT NOTE: I know new/changed slash commands appear next session; just confirm the file was updated.\n\n5) Verification report\n   - Print a short table: {WAL?, busy_timeout?, tables: runs/items/admin_changes?, timers?, datasette?, sqlite-web?, slash-cmds-updated?}\n   - If anything FAIL, list the exact, minimal fix commands (no prose).\n\nBehavior:\n- Assume current working directory is the project root.\n- Prefer `make` targets under `ops/`.\n- Do not run sudo or change global system config in this environment; just print those steps for me.\n\nThis one message checks everything, updates the project's slash commands file, and gives you a PASS/FAIL sheet. New/changed slash commands will appear next time you start Claude Code for this project."
    }
  ]
}